<html>
  <head>
    <link href="/static/literallycanvas.css" rel="stylesheet">
    <script src="/static/react-with-addons.js"></script>
    <script src="/static/react-dom.js"></script>

    <script src="/static/literallycanvas.js"></script>
  </head>
  <body>
    <div id="my-drawing"></div>

    <form action="" method="post">
      <a href="javascript:upload_file();">Upload</a>
    </form>
    <script>
      var bodyImg = document.createElement("IMG");
      bodyImg.src = "/static/pics/body.png";
      lc = LC.init(
        document.getElementById('my-drawing'),
        {imageURLPrefix: '/static/pics/literallycanvas',
         imageSize: {width: 818, height: 570},
         backgroundShapes: [
            LC.createShape(
             'Image', {x: 0, y: 0, image: bodyImg, scale: 0.5}
             )
         ]}
      );
      function upload_file(){
        var blob = lc.getImage().toDataURL();
        var oReq = new XMLHttpRequest();
        oReq.onload = function(oEvent){
        };
        oReq.open("POST", "/file_upload", true);
        oReq.setRequestHeader("Content-Type", "application/upload");
        oReq.send(blob)
      }
    </script>
  </body>
</html
